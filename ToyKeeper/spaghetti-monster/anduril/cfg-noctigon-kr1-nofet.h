// Noctigon KR1 (fetless) config options for Anduril
#include "cfg-noctigon-kr4.h"
// ATTINY: 1634

// level_calc.py 7.0 1 150 7135 0 5 1740
#undef PWM_CHANNELS
#define PWM_CHANNELS 1
#define RAMP_LENGTH 150
#undef PWM1_LEVELS
#define PWM1_LEVELS 0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,5,5,6,6,7,7,8,8,9,9,10,11,11,12,13,14,15,15,16,17,18,19,20,21,22,24,25,26,27,29,30,32,33,35,36,38,40,42,43,45,47,50,52,54,56,59,61,64,66,69,72,75,78,81,84,88,91,95,99,102,106,110,115,119,123,128,133,138,143,148,153,159,164,170,176,183,189,196,202,209,217,224,232,239,247,256,264,273,282,291,301,310,320,331,341,352,363,375,386,398,411,423,436,450,464,478,492,507,522,538,554,570,587,604,622,640,658,677,697,717,737,758,779,801,823,846,870,894,919,944,970,996,1023
#undef PWM2_LEVELS
#undef DEFAULT_LEVEL
#define DEFAULT_LEVEL 50
#undef MAX_1x7135
#define MAX_1x7135 150

#undef RAMP_SMOOTH_FLOOR
#undef RAMP_SMOOTH_CEIL
#undef RAMP_DISCRETE_FLOOR
#undef RAMP_DISCRETE_CEIL
#undef RAMP_DISCRETE_STEPS

#define RAMP_SMOOTH_FLOOR 3  // level 1 is unreliable
#define RAMP_SMOOTH_CEIL 130
// 45, 66, 87, 108, 130  (plus [150] on turbo)
#define RAMP_DISCRETE_FLOOR 45
#define RAMP_DISCRETE_CEIL RAMP_SMOOTH_CEIL
#define RAMP_DISCRETE_STEPS 5

// 30, 52, 75, 97, 120
#undef SIMPLE_UI_FLOOR
#undef SIMPLE_UI_CEIL
#undef SIMPLE_UI_STEPS
#define SIMPLE_UI_FLOOR 30
#define SIMPLE_UI_CEIL 120
#define SIMPLE_UI_STEPS 5

// make candle mode wobble more
#define CANDLE_AMPLITUDE 32

// slow down party strobe; this driver can't pulse for 1ms or less
// (only needed on no-FET build)
#define PARTY_STROBE_ONTIME 2

#undef THERM_FASTER_LEVEL
#define THERM_FASTER_LEVEL 130
#undef MIN_THERM_STEPDOWN
#define MIN_THERM_STEPDOWN DEFAULT_LEVEL
